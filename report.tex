\documentclass[twoside,12pt,a4paper]{report}

\newcommand{\pawel}{Pawe\l{} Soboci\'{n}ski}

\newcommand{\mtitle}{Glitch-Free Functional Reactive Programming}
\newcommand{\mauthor}{Alistair Lynn}
\newcommand{\msupervisor}{\pawel{}}
\newcommand{\msexaminer}{Maria Polukarov}

% With all text
\newcommand{\notinplag}[1]{#1}

% With text removed
%\newcommand{\notinplag}[1]{}

\title{\mtitle}
\author{\mauthor}
\date{\today}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{parskip}

\usepackage[bottom]{footmisc}

\usepackage{fancyhdr}
\pagestyle{fancy}
\setlength{\headheight}{15pt}

\usepackage{amsfonts}

\usepackage{a4wide, textcomp}
\usepackage[pdftex]{graphicx}

\usepackage{float}

\usepackage{todonotes}

\usepackage{listingsutf8}

\lstloadlanguages{Haskell}
\lstnewenvironment{code}
    {\lstset{}%
      \csname lst@SetFirstLabel\endcsname}
    {\csname lst@SaveFirstLabel\endcsname}
    \lstset{
      basicstyle=\small\ttfamily,
      flexiblecolumns=false,
      basewidth={0.5em,0.45em},
      literate={+}{{$+$}}1 {/}{{$/$}}1 {*}{{$*$}}1 {=}{{$=$}}1
               {>}{{$>$}}1 {<}{{$<$}}1 {\\}{{$\lambda$}}1
               {\\\\}{{\char`\\\char`\\}}1
               {->}{{$\rightarrow$}}2 {>=}{{$\geq$}}2 {<-}{{$\leftarrow$}}2
               {<=}{{$\leq$}}2 {=>}{{$\Rightarrow$}}2 
               {\ .}{{$\circ$}}2 {\ .\ }{{$\circ$}}2
               {(.)}{{$(\circ)$}}2
               {>>}{{>>}}2 {-<}{{-<}}2 {>>=}{{>>=}}2 {>=>}{{>=>}}2
               {>>>}{{\texttt{>}\texttt{>}\texttt{>}}}3
               {>>\^}{{\texttt{>}\texttt{>}\texttt{\^}}}3
               {\^>>}{{\texttt{\^}\texttt{>}\texttt{>}}}3
               {<<<}{{\texttt{<}\texttt{<}\texttt{<}}}3
               {|}{{$\mid$}}1
    }

\lstset{inputencoding=utf8}

% Some UTF-8 support. Yes, this is stupid. Yes, LaTeX is terrible.
\DeclareUnicodeCharacter{2081}{$_{1}$}
\DeclareUnicodeCharacter{2082}{$_{2}$}
\DeclareUnicodeCharacter{2083}{$_{3}$}
\DeclareUnicodeCharacter{2084}{$_{4}$}
\DeclareUnicodeCharacter{2085}{$_{5}$}
\DeclareUnicodeCharacter{2200}{$\forall$}
\DeclareUnicodeCharacter{2218}{$\circ$}
\DeclareUnicodeCharacter{2261}{$\equiv$}
\DeclareUnicodeCharacter{03BB}{$\lambda$}

\usepackage{tabu}

\usepackage{verbatim}

\usepackage{pdflscape}

\newcommand*\rot{\rotatebox{90}}

\usepackage{pgfgantt}

\usepackage[square,sort,comma,numbers]{natbib}
\usepackage[nottoc,numbib]{tocbibind}

\renewcommand{\bibname}{References}

\usepackage{amsmath}

\usepackage[hidelinks,
            pdftex,
            pdfauthor={\mauthor},
            pdftitle={\mtitle}]{hyperref}

\begin{document}
\bibliographystyle{is-unsrt}
\pagenumbering{roman}

\notinplag{

\begin{titlepage}
\begin{center}
\includegraphics[width=0.65\textwidth]{./soton_logo.eps}~\\[1cm]
\textsc{\Large Electronics and Computer Science}\\[0.2cm]
\textsc{\Large Faculty of Physical and Applied Sciences}\\[0.2cm]
\textsc{\Large University of Southampton}\\[3.5cm]
\textsc{\Large \mauthor}\\[1cm]
\textsc{\large \today}\\[3cm]
\textsc{\Large \mtitle}\\[3.5cm]
\textsc{\large Project supervisor: \msupervisor}\\
\textsc{\large Second examiner: \msexaminer}\\[1.2cm]
\textsc{\large A project report\\submitted for the award of MEng Computer Science}
\end{center}
\end{titlepage}

\abstract{In this report, I explore the background of functional reactive
programming: in particular, semantics and implementations of it which avoid a
class of transient error known as glitches. In so doing, I show that including
the inputs of an FRP network within the type of its behaviours, as in the
Hughes arrow formulations, avoids glitches by construction. I then give an
Arrow-driven implementation using a novel isomorphism between Paterson's
automaton Arrows and state arrows with existential types, including proofs for
the arrow laws.}

\tableofcontents

\listoffigures
\listoftodos
\clearpage
\phantomsection
% \addcontentsline{toc}{chapter}{Acknowledgements}
% \chapter*{Acknowledgements}
% \todo{Write acknowledgements}
% I would like to thank myself, without whom this project would not have been
% completed.

\newpage

}

\pagenumbering{arabic}
\include{build/introduction}
\include{build/background}
\include{build/stuttering}
\include{build/design}
\include{build/implementation}
\include{build/evaluation}
\include{build/conclusions}
\include{planning/planning}

\notinplag{
\appendix

\bibliography{report}

\begin{landscape}
\chapter{Proofs}
\label{apx:proofs}

%\lstinputlisting{StateAuto.agda}
\verbatiminput{StateAuto.agda}
\end{landscape}

}

\end{document}
